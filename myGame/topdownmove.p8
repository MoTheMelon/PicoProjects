pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
  x = 50
  y = 50
  speed = 2

end

function _update()
		ix = 0
  iy = 0
  if btn(⬆️) then
    iy -= 1
  end
  if btn(⬇️) then
  		iy += 1
  end
  if btn(➡️) then
  		ix += 1
  end
  if btn(⬅️) then
  		ix -= 1
  end
  
if (ix*ix+iy*iy>1) then
  // movement vector is longer than 1 unit!
  // normalize it:
  dist=sqrt(ix*ix+iy*iy)
  ix/=dist
  iy/=dist
end

	oldx = x
	oldy = y

	x += ix*speed
	y += iy*speed

if collision(x,y,70,60) then
	x = oldx
	y = oldy
end

end

function _draw()
  cls()
  map()
  
  spr(1,x,y)
  spr(2,70,60)
    
end

function collision(x1,y1,x2,y2)
--assuming 8x8--
	return not (
    x1+8 < x2 or
    x1 > x2+8 or
    y1+8 < y2 or
    y1 > y2+8
  )

end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000494494000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000077cc000449944000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070007ccccc00449944000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cc1c1c00494494000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cccccc00444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
